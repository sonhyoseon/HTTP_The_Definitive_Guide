# 보안 HTTP
이전 장에서 사용자를 식별하고 인증하는 것을 도와주는 HTTP의 기능들을 알아보았다.
이 기법들은 우호적인 관계가 형성되어 있는 커뮤니티에선 잘 동작하지만 
적대행위가 일어날 가능성이 있는 커뮤니티에서 중요한 트랜잭션을 보호하기에는 부족하다.

## 14.1 HTTP를 안전하게 만들기
사람들은 웹 트랜잭션을 중요한 일에 사용한다.
강력한 보안이 없다면 마음놓고 사용할 수 없을 것이다.
웹은 안전한 방식의 HTTP를 필요로 한다.

이전 장에서 인증과 메시지 무결성을 제공하는 가벼운 방법에 대해 이야기 했다.
이들은 대체로 쓸만하지만 충분히 강력하진 않다.

HTTP의 보안 버전은 효율적이고 이식성이 좋아야 하고 관리가 쉬워야 하며, 현실 세계의 변화에 대한 적응력이 좋아야 한다.

우리는 다음을 지원하는 보안 기술이 필요하다
- 서버인증: 클라이언트는 자신이 위조된 서버가 아닌 진짜와 이야기 하고 있음을 알 수 있어야 한다.
- 클라이언트 인증: 서버는 자신이 가짜가 아닌 진짜 사용자와 이야기하고 있음을 할 수 있어야 한다.
- 무결성: 클라이언트와 서버는 그들의 데이터가 위조되는 것으로부터 안전해야 한다.
- 암호화: 클라이언트와 서버는 도청에 대한 걱정 없이 서로 대화할 수 있어야 한다.
- 효율: 저렴한 클라이언트나 서버도 이용할 수 있도록 알고리즘은 충분히 빨라야 한다.
- 편재성: 프로토콜은 거의 모든 클라이언트와 서버에서 지원되어야 한다.
- 관리상 확장성 누구든 어디서든 즉각적인 보안 통신을 할 수 있어야 한다.
- 적응성: 현재 알려진 최선의 보안 방법을 지원해야 한다.
- 사회적 생존성: 사회의 문제적, 정치적 요구를 만족시켜야 한다.

### 14.1.1 HTTPS
HTTPS는 가장 인기가 많은 HTTP를 안전하게 만드는 방식이다.
HTTPS로 웹페이지에 접근하고 있는 경우 URL이 https://로 시작하는 것을 보고 그 사실을 알아챌 수 있다.

HTTPS를 사용할 경우 모든 요청과 응답 데이터는 암호화된다.
HTTPS는 HTTP의 하부에 전송 레벨 암호 보안 계층을 제공함으로써 동작하는데, 이 보안 계층은 안전 소켓 계층(SSL) 혹은 그를 계승한 전송 계층 보안(TLS)을 이용하여 구현된다.

어려운 작업은 SSL 라이브러리 안에서 일어나기 때문에
대부분의 경우, TCP 입력/출력 호출을 SSL 호출로 대체하고 보안 정보를 설정하고 관리하기 위한 몇가지 호출을 추가하기만 하면 된다.

### 14.2 디지털 암호학
HTTPS에 대해 자세히 이야기하기 전에 SSL과 HTTPS에서 이용되는 암호인코딩 기법에 대해 배경 지식을 알 필요가 있다.

- 암호: 텍스트를 아무나 읽지 못하도록 인코딩하는 알고리즘
- 키: 암호의 동작을 변경하는 숫자로 된 매개변수
- 대칭키 암호 체계: 인코딩과 디코딩에 같은 키를 사용하는 알고리즘
- 비대칭키 암호 체계: 인코딩과 디코딩에 다른 키를 사용하는 알고리즘
- 공기키 암호법: 비밀 메시지를 전달하는 수백만대의 컴퓨터를 쉽게 만들 수 있는 시스템 
- 디지털 서명 메시지가 위조 혹은 변조되지 않았음을 입증하는 체크섬
- 디지털 인증서: 신뢰할 만한 조직에 의해 서명되고 검증된 신원 확인 정보

### 14.2.1 비밀 코드의 기술과 과학
암호법은 메시지 인코딩과 디코딩에 대한 과학이자 기술이다.
암호법은 단순히 다른사람이 메시지를 볼 수 없도록 하는것 뿐만 아니라
변조를 방지하기 위해서도 사용된다.

### 14.2.2 암호(cipher)
암호법은 암호라 불리는 비밀 코드에 기반한다.
암호란 메시지를 인코딩하는 어떤 특정한 방법과 나중에 그 비밀 메시지를 디코딩하는 방법이다.
인코딩되기 전의 원본 메시지는 흔히 평문 혹은 텍스트라 부른다.

### 14.2.3 암호 기계
암호는 상대적으로 간단한 알고리즘으로 시작했는데 사람이 직접 인코딩하고 디코딩해야 했기 때문이다.
기술이 진보하며 사람들은 빠르고 정확하게 인코딩, 디코딩 하는 기계를 만들기 시작했다.

### 14.2.4 키가 있는 암호
코드 알고리즘과 기계가 적에 손에 들어갈 수 있기 때문에 대부분의 기계들에는 
암호의 동작방식을 변경할 수 있는 큰 숫자로 된 다른 값을 설정할 수 있는 다이얼이 달려있다.
이런 암호 매개변수를 키라고 부른다.

### 14.2.5 디지털 암호
디지털 계산의 도래로 두가지 주요한 발전이 있다.
- 속도 및 기능
- 큰키의 지원 가능
기계 장치의 물리적 금속 키나 다이얼 설정과는 달리 디지털 키는 그냥 숫자에 불과하다.
디지털 키 값은 인코딩과 디코딩 알고리즘에 대한 입력값이다.
코딩 알고리즘은 이 값에 근거해 인코딩, 디코딩한다.
